<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Change Password</title>
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
	integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
	crossorigin="anonymous">

<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
	crossorigin="anonymous">

<script>
	var check = function() {
		if (document.getElementById('password').value == 
			document.getElementById('confirm_password').value) {
			document.getElementById('message').style.color = 'green';
			document.getElementById('message').innerHTML = 'Password matching';
		} else {
			document.getElementById('message').style.color = 'red';
			document.getElementById('message').innerHTML = 'Password not matching';
		}
	}
</script>

</head>
	
<body>
	<div th:insert="fragments/header :: header"></div>

		<br>
	<div class="container col-sm-4" style="border: 1px solid grey">
		<div>
			<h4 style="text-align: center;">Change Password Here</h4>
			<br>
			<div class="form-group">
				<form method="post" th:action="@{/login/changePassword}">
				
					<label class="form-label" for="username">Email :</label>
					<input class="form-control" type="text" id="emailId" name="emailId" required>					
					
					<label class="form-label" for="psw">Old Password:</label>
					<input class="form-control" type="password" id="password" name="password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" 
				    	title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" 
				         required>
					
					<label class="form-label" for="psw">New Password:</label>					
					<input class="form-control" type="password" id="confirm_password" name="confirm_password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" 
					    title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters" 
					     required onkeyup='check();'>
					     
					<br>
					     
					<button class="btn btn-success btn-block" type="submit">Reset Password</button> 
					<br>
					<a class="action-label btn, .btn-link"	th:href="@{/home}">Back to Home Page</a>  
					
					<div style="color:green">[[${changePasswordMsg}]]</div>   
								
				
				</form>			
			</div>
		</div>
	</div>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div th:insert="fragments/footer :: footer"></div>
</body>
</html>